<!DOCTYPE html><html lang="en-us"><title>Kyle Silver</title><head><link rel="stylesheet" href="/css/site.css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,200;0,400;0,700;1,200;1,400;1,700&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ruda:wght@400;900&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,700;1,300;1,700&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,300;0,800;1,300;1,800&amp;display=swap"><meta name="viewport" content="width=device-width, initial-scale=1"></head><body><div class="container"><div id="nav"><ul class="nav-items"><li><a href="/">home</a></li><span></span><li><a href="/blog">blog</a></li><span></span><li><a href="/compositions">compositions</a></li><span></span><li><a href="/transcriptions">transcriptions</a></li><span></span><li><a href="//github.com/kyle-silver">github</a></li></ul></div><h1>Kyle Silver</h1><div class="separator"></div><div id="article"><h2 id="home-heading">Dice Rolling Notation: Now With Recursion!</h2><div class="content"><script type="module">
    import init, { evaluate_and_draw } from "./recursive_dice_roller.js";
    import * as colorize from "./colorize.js";
    await init();
    window.render = function render(expression) {
        const result = evaluate_and_draw(expression);
        const colorized = colorize.colorful(result);
        document.getElementById("draw-output").innerHTML = colorized;
    };
</script>
<div class="roll-container">
    <form
        class="roll-form"
        style="display:flex;align-items:stretch;"
        onsubmit="window.render(document.getElementById('expression').value); return false"
    >
        <input
            type="text"
            id="expression"
            style="width:100%;margin-right:3px;font-size:1rem;font-family:'Ruda';"
            value="(3d4 - 2)d(d6*2)k(d2 + 1) + 5"
        />
        <input
            type="submit"
            style="padding-left:10px;padding-right:10px;font-family:Ruda;font-weight:bold"
            value="Roll"
        />
    </form>
    <pre class="code" id="draw-output">
<b>A Recursive Dice Roller</b>
<br />
Common dice rolling options are supported:
&ndash; Roll a single die:       <b>d6</b>
&ndash; Roll multiple dice:      <b>3d8 + 4</b>
&ndash; Roll many, keep highest: <b>2d20k1 - 3</b>
&ndash; Roll many, keep lowest:  <b>3d10kl2</b>
&ndash; You can use parentheses: <b>3&nbsp;* (2d6 + 4)</b>
&ndash; Add many rolls together: <b>3d8 + 2d6 + 2</b>
<br />
But! In addition to these normal operations,
you can also nest expressions with arbitrary
depth
&ndash; <b>(2d6)d8</b>
&ndash; <b>(d10 + 7)d(4d6 * 2)k(d6) - 2</b>
&ndash; <b>((5d4)d3)d2</b>
</pre>
</div>
<p>This was a fun little project that I made to learn about programming languages and parsers—as well as WebAssembly. If you’re having fun playing around with the dice roller, stick around for a breakdown on how I made it.</p>
</div></div><hr><p class="date-tag">Published 2023-03-18</p><div id="up-next"><div class="prev"><p class="prompt"><a href="/blog/clocks">&laquo;&nbsp;previous article</a></p><p><a href="/blog/clocks">Making Clocks with JavaScript</a></p></div><div class="next"> </div></div></div><div id="footer"><p class="flourish">&lt;/&gt;</p><p class="copyright">Kyle Silver c. 2023</p></div></body></html>